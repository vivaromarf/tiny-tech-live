{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/omarfvivar/Documents/Github/VanPro/Components/Pages/SignUpPassword.js\";\nimport React, { useState } from \"react\";\nimport SignUpContainer from \"../Layouts/SignUpContainer\";\nimport { TextField } from \"../Elements/Fields\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Snackbar } from \"react-native-paper\";\nimport { firebase, firebase_sign_in_anonymous, firebase_sign_up, firebase_sign_in, firebase_sign_out } from \"../../firebase\";\n\nvar SignUpPassword = function SignUpPassword(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      password = _useState2[0],\n      updatePassword = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      visible = _useState4[0],\n      setVisible = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      message = _useState6[0],\n      setMessage = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      updateLoading = _useState8[1];\n\n  var _onDismissSnackBar = function _onDismissSnackBar() {\n    setVisible(0), setMessage(\"\");\n  };\n\n  var onSubmit = function onSubmit() {\n    var email = navigation.getParam(\"email\");\n    var userName = navigation.getParam(\"username\");\n\n    if (userName === \"\") {\n      setMessage(\"Username can't be empty.\");\n      setVisible(1);\n    } else if (email === \"\") {\n      setMessage(\"Email can't be empty.\");\n      setVisible(1);\n    } else if (password === \"\") {\n      setMessage(\"Password can't be empty.\");\n      setVisible(1);\n    } else {\n      firebase_sign_up({\n        email: email,\n        password: password\n      }).then(function (response) {\n        var uid = response.user.uid;\n        var data = {\n          id: uid,\n          email: email\n        };\n        var usersRef = firebase.firestore().collection(\"users\");\n        usersRef.doc(uid).set(data).then(function () {\n          navigation.navigate(\"Home\", {\n            user: data\n          });\n        }).catch(function (error) {\n          alert(error);\n        });\n      }).catch(function (error) {\n        console.log({\n          error: error\n        });\n        updateLoading(false);\n        setMessage(error.message);\n        setVisible(1);\n      });\n      updateLoading(loading);\n    }\n  };\n\n  var snackbar = function snackbar(visible, message) {\n    return React.createElement(Snackbar, {\n      visible: visible,\n      onDismiss: _onDismissSnackBar,\n      style: styles.snackbar,\n      action: {\n        label: \"OK\",\n        onPress: function onPress() {}\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      style: styles.message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, message));\n  };\n\n  return React.createElement(SignUpContainer, _extends({\n    title: \"Your Password\",\n    subtitle: \"Stay Safe\",\n    nextLabel: \"Sign-Up\",\n    back: function back() {\n      return navigation.navigate(\"SignUpEmail\");\n    },\n    next: onSubmit,\n    loading: loading,\n    snackbar: snackbar(visible, message)\n  }, {\n    navigation: navigation\n  }, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }), React.createElement(TextField, {\n    placeholder: \"Password\",\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    returnKeyType: \"go\",\n    onChangeText: updatePassword,\n    value: password,\n    secureTextEntry: true,\n    contrast: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar styles = StyleSheet.create({\n  snackbar: {\n    position: \"absolute\",\n    bottom: 25,\n    left: width * 0.1,\n    width: width * 0.8\n  },\n  message: {\n    fontFamily: \"SFProText-Medium\",\n    color: \"#FFF\",\n    fontSize: 14\n  }\n});\nexport default SignUpPassword;","map":{"version":3,"sources":["/Users/omarfvivar/Documents/Github/VanPro/Components/Pages/SignUpPassword.js"],"names":["React","useState","SignUpContainer","TextField","Snackbar","firebase","firebase_sign_in_anonymous","firebase_sign_up","firebase_sign_in","firebase_sign_out","SignUpPassword","navigation","password","updatePassword","visible","setVisible","message","setMessage","loading","updateLoading","_onDismissSnackBar","onSubmit","email","getParam","userName","then","response","uid","user","data","id","usersRef","firestore","collection","doc","set","navigate","catch","error","alert","console","log","snackbar","styles","label","onPress","Dimensions","get","width","height","StyleSheet","create","position","bottom","left","fontFamily","color","fontSize"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,OAAOC,eAAP;AACA,SAASC,SAAT;;;;;AAEA,SAASC,QAAT,QAAyB,oBAAzB;AAEA,SAASC,QAAT,EAAmBC,0BAAnB,EAA+CC,gBAA/C,EAAiEC,gBAAjE,EAAmFC,iBAAnF;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAAoB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AAAA,kBACNV,QAAQ,CAAC,EAAD,CADF;AAAA;AAAA,MAClCW,QADkC;AAAA,MACxBC,cADwB;;AAAA,mBAEXZ,QAAQ,CAAC,CAAD,CAFG;AAAA;AAAA,MAElCa,OAFkC;AAAA,MAEzBC,UAFyB;;AAAA,mBAGXd,QAAQ,CAAC,EAAD,CAHG;AAAA;AAAA,MAGlCe,OAHkC;AAAA,MAGzBC,UAHyB;;AAAA,mBAIRhB,QAAQ,CAAC,KAAD,CAJA;AAAA;AAAA,MAIlCiB,OAJkC;AAAA,MAIzBC,aAJyB;;AAMzC,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/BL,IAAAA,UAAU,CAAC,CAAD,CAAV,EAAeE,UAAU,CAAC,EAAD,CAAzB;AACD,GAFD;;AAIA,MAAMI,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,QAAMC,KAAK,GAAGX,UAAU,CAACY,QAAX,CAAoB,OAApB,CAAd;AACA,QAAMC,QAAQ,GAAGb,UAAU,CAACY,QAAX,CAAoB,UAApB,CAAjB;;AACA,QAAIC,QAAQ,KAAK,EAAjB,EAAqB;AACnBP,MAAAA,UAAU,CAAC,0BAAD,CAAV;AACAF,MAAAA,UAAU,CAAC,CAAD,CAAV;AACD,KAHD,MAGO,IAAIO,KAAK,KAAK,EAAd,EAAkB;AACvBL,MAAAA,UAAU,CAAC,uBAAD,CAAV;AACAF,MAAAA,UAAU,CAAC,CAAD,CAAV;AACD,KAHM,MAGA,IAAIH,QAAQ,KAAK,EAAjB,EAAqB;AAC1BK,MAAAA,UAAU,CAAC,0BAAD,CAAV;AACAF,MAAAA,UAAU,CAAC,CAAD,CAAV;AACD,KAHM,MAGA;AACLR,MAAAA,gBAAgB,CAAC;AAAEe,QAAAA,KAAK,EAALA,KAAF;AAASV,QAAAA,QAAQ,EAARA;AAAT,OAAD,CAAhB,CACGa,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,YAAMC,GAAG,GAAGD,QAAQ,CAACE,IAAT,CAAcD,GAA1B;AACA,YAAME,IAAI,GAAG;AACXC,UAAAA,EAAE,EAAEH,GADO;AAEXL,UAAAA,KAAK,EAALA;AAFW,SAAb;AAIA,YAAMS,QAAQ,GAAG1B,QAAQ,CAAC2B,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,CAAjB;AACAF,QAAAA,QAAQ,CACLG,GADH,CACOP,GADP,EAEGQ,GAFH,CAEON,IAFP,EAGGJ,IAHH,CAGQ,YAAM;AACVd,UAAAA,UAAU,CAACyB,QAAX,CAAoB,MAApB,EAA4B;AAAER,YAAAA,IAAI,EAAEC;AAAR,WAA5B;AACD,SALH,EAMGQ,KANH,CAMS,UAAAC,KAAK,EAAI;AACdC,UAAAA,KAAK,CAACD,KAAD,CAAL;AACD,SARH;AASD,OAjBH,EAkBGD,KAlBH,CAkBS,UAAAC,KAAK,EAAI;AACdE,QAAAA,OAAO,CAACC,GAAR,CAAY;AAAEH,UAAAA,KAAK,EAALA;AAAF,SAAZ;AACAnB,QAAAA,aAAa,CAAC,KAAD,CAAb;AACAF,QAAAA,UAAU,CAACqB,KAAK,CAACtB,OAAP,CAAV;AACAD,QAAAA,UAAU,CAAC,CAAD,CAAV;AACD,OAvBH;AAwBAI,MAAAA,aAAa,CAACD,OAAD,CAAb;AACD;AACF,GAvCD;;AAyCA,MAAMwB,QAAQ,GAAG,SAAXA,QAAW,CAAC5B,OAAD,EAAUE,OAAV,EAAsB;AACrC,WACE,oBAAC,QAAD;AACE,MAAA,OAAO,EAAEF,OADX;AAEE,MAAA,SAAS,EAAEM,kBAFb;AAGE,MAAA,KAAK,EAAEuB,MAAM,CAACD,QAHhB;AAIE,MAAA,MAAM,EAAE;AACNE,QAAAA,KAAK,EAAE,IADD;AAENC,QAAAA,OAAO,EAAE,mBAAM,CAEd;AAJK,OAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAWE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEF,MAAM,CAAC3B,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BA,OAA9B,CAXF,CADF;AAeD,GAhBD;;AAkBA,SACE,oBAAC,eAAD;AACE,IAAA,KAAK,EAAC,eADR;AAEE,IAAA,QAAQ,EAAC,WAFX;AAGE,IAAA,SAAS,EAAC,SAHZ;AAIE,IAAA,IAAI,EAAE;AAAA,aAAML,UAAU,CAACyB,QAAX,CAAoB,aAApB,CAAN;AAAA,KAJR;AAKE,IAAA,IAAI,EAAEf,QALR;AAME,IAAA,OAAO,EAAEH,OANX;AAOE,IAAA,QAAQ,EAAEwB,QAAQ,CAAC5B,OAAD,EAAUE,OAAV;AAPpB,KAQM;AAAEL,IAAAA,UAAU,EAAVA;AAAF,GARN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAUE,oBAAC,SAAD;AACE,IAAA,WAAW,EAAC,UADd;AAEE,IAAA,cAAc,EAAC,MAFjB;AAGE,IAAA,WAAW,EAAE,KAHf;AAIE,IAAA,aAAa,EAAC,IAJhB;AAKE,IAAA,YAAY,EAAEE,cALhB;AAME,IAAA,KAAK,EAAED,QANT;AAOE,IAAA,eAAe,MAPjB;AAQE,IAAA,QAAQ,MARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF;AAuBD,CA5FD;;sBA8F0BkC,UAAU,CAACC,GAAX,CAAe,QAAf,C;IAAlBC,K,mBAAAA,K;IAAOC,M,mBAAAA,M;;AAEf,IAAMN,MAAM,GAAGO,UAAU,CAACC,MAAX,CAAkB;AAC/BT,EAAAA,QAAQ,EAAE;AACRU,IAAAA,QAAQ,EAAE,UADF;AAERC,IAAAA,MAAM,EAAE,EAFA;AAGRC,IAAAA,IAAI,EAAEN,KAAK,GAAG,GAHN;AAIRA,IAAAA,KAAK,EAAEA,KAAK,GAAG;AAJP,GADqB;AAO/BhC,EAAAA,OAAO,EAAE;AACPuC,IAAAA,UAAU,EAAE,kBADL;AAEPC,IAAAA,KAAK,EAAE,MAFA;AAGPC,IAAAA,QAAQ,EAAE;AAHH;AAPsB,CAAlB,CAAf;AAcA,eAAe/C,cAAf","sourcesContent":["import React, { useState } from \"react\";\n\nimport SignUpContainer from \"../Layouts/SignUpContainer\";\nimport { TextField } from \"../Elements/Fields\";\nimport { AsyncStorage, Dimensions, StyleSheet, Text } from \"react-native\";\nimport { Snackbar } from \"react-native-paper\";\n\nimport { firebase, firebase_sign_in_anonymous, firebase_sign_up, firebase_sign_in, firebase_sign_out } from \"../../firebase\";\n\nconst SignUpPassword = ({ navigation }) => {\n  const [password, updatePassword] = useState(\"\");\n  const [visible, setVisible] = useState(0);\n  const [message, setMessage] = useState(\"\");\n  const [loading, updateLoading] = useState(false);\n\n  const _onDismissSnackBar = () => {\n    setVisible(0), setMessage(\"\");\n  };\n\n  const onSubmit = () => {\n    const email = navigation.getParam(\"email\");\n    const userName = navigation.getParam(\"username\");\n    if (userName === \"\") {\n      setMessage(\"Username can't be empty.\");\n      setVisible(1);\n    } else if (email === \"\") {\n      setMessage(\"Email can't be empty.\");\n      setVisible(1);\n    } else if (password === \"\") {\n      setMessage(\"Password can't be empty.\");\n      setVisible(1);\n    } else {\n      firebase_sign_up({ email, password })\n        .then(response => {\n          const uid = response.user.uid;\n          const data = {\n            id: uid,\n            email\n          };\n          const usersRef = firebase.firestore().collection(\"users\");\n          usersRef\n            .doc(uid)\n            .set(data)\n            .then(() => {\n              navigation.navigate(\"Home\", { user: data });\n            })\n            .catch(error => {\n              alert(error);\n            });\n        })\n        .catch(error => {\n          console.log({ error });\n          updateLoading(false);\n          setMessage(error.message);\n          setVisible(1);\n        });\n      updateLoading(loading);\n    }\n  };\n\n  const snackbar = (visible, message) => {\n    return (\n      <Snackbar\n        visible={visible}\n        onDismiss={_onDismissSnackBar}\n        style={styles.snackbar}\n        action={{\n          label: \"OK\",\n          onPress: () => {\n            // Do something\n          }\n        }}\n      >\n        <Text style={styles.message}>{message}</Text>\n      </Snackbar>\n    );\n  };\n\n  return (\n    <SignUpContainer\n      title=\"Your Password\"\n      subtitle=\"Stay Safe\"\n      nextLabel=\"Sign-Up\"\n      back={() => navigation.navigate(\"SignUpEmail\")}\n      next={onSubmit}\n      loading={loading}\n      snackbar={snackbar(visible, message)}\n      {...{ navigation }}\n    >\n      <TextField\n        placeholder=\"Password\"\n        autoCapitalize=\"none\"\n        autoCorrect={false}\n        returnKeyType=\"go\"\n        onChangeText={updatePassword}\n        value={password}\n        secureTextEntry\n        contrast\n      />\n    </SignUpContainer>\n  );\n};\n\nconst { width, height } = Dimensions.get(\"window\");\n\nconst styles = StyleSheet.create({\n  snackbar: {\n    position: \"absolute\",\n    bottom: 25,\n    left: width * 0.1,\n    width: width * 0.8\n  },\n  message: {\n    fontFamily: \"SFProText-Medium\",\n    color: \"#FFF\",\n    fontSize: 14\n  }\n});\n\nexport default SignUpPassword;\n"]},"metadata":{},"sourceType":"module"}